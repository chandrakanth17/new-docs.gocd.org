<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customize a Pipeline label | GoCD User Documentation</title>

<meta name="description" content="Creating and using custom pipeline label in GoCD"/>
<meta name="keywords" content="[GoCD configuration, pipeline labels, custom pipeline labels, material revision, upstream pipeline labels]"/>
<link rel="canonical" href="https://gocd.github.io/new-docs.gocd.org/current//configuration/admin_use_custom_pipeline_label.html"/>
<script async src="../javascripts/_gdpr-banner.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet"/>
<link rel="stylesheet" href="../normalize.min.css"/>

<link rel="stylesheet" href="../book.min.87a2ae978f4eef197028ff1dc9c46e406d1b1133dcefddfe618d4d6d73fc362e.css"/>
  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav role="navigation">



    <ul>
<li><a href="../"><strong>Introduction</strong></a></li>
<li><a href="../navigation.html"><strong>GoCD Tour</strong></a>

<ul>
<li><a href="../navigation/pipelines_dashboard_page.html">Pipeline Dashboard</a></li>
<li><a href="../navigation/agents_page.html">Agents</a></li>
<li><a href="../navigation/agent_details.html">Agent Details</a></li>
<li><a href="../navigation/pipeline_activity_page.html">Pipeline Activity</a></li>
<li><a href="../navigation/stage_details_page.html">Stage Details</a></li>
<li><a href="../navigation/job_details_page.html">Job Details</a></li>
<li><a href="../navigation/administration_page.html">Administration</a></li>
<li><a href="../navigation/server_details_page.html">Server Details</a></li>
<li><a href="../navigation/environments_page.html">Environments</a></li>
<li><a href="../navigation/value_stream_map.html">Value Stream Map</a></li>
</ul></li>
<li><a href="../configuration.html"><strong>Configuration</strong></a>

<ul>
<li><a href="../configuration/quick_pipeline_setup.html">Setup a New Pipeline</a></li>
<li><a href="../configuration/managing_pipelines.html">Managing Pipelines</a></li>
<li><a href="../configuration/managing_dependencies.html">Managing Dependencies</a></li>
<li><a href="../configuration/managing_a_build_cloud.html">Managing Agents</a></li>
<li><a href="../configuration/managing_environments.html">Managing Environments</a></li>
<li><a href="../configuration/build_labelling.html">Pipeline Labelling</a></li>
<li><a href="../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
<li><a href="../configuration/admin_use_parameters_in_configuration.html">Parameterize a Pipeline</a></li>
<li><a href="../configuration/admin_use_custom_pipeline_label.html">Customize a Pipeline Label</a></li>
<li><a href="../configuration/admin_clone_pipeline.html">Clone a Pipeline</a></li>
<li><a href="../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
<li><a href="../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
<li><a href="../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
<li><a href="../configuration/admin_add_job.html">Add job to Existing Stage</a></li>
<li><a href="../configuration/admin_add_task.html">Add task to Existing Job</a></li>
<li><a href="../configuration/pipeline_templates.html">Pipeline Templates</a></li>
<li><a href="../configuration/elastic_agents.html">Elastic Agents</a></li>
<li><a href="../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
<li><a href="../configuration/admin_timer.html">Timer Trigger</a></li>
<li><a href="../configuration/job_timeout.html">Job Timeout</a></li>
<li><a href="../configuration/managing_users.html">Managing Users</a></li>
<li><a href="../configuration/dev_authentication.html">Authentication</a></li>
<li><a href="../configuration/dev_authorization.html">Authorizing Users</a></li>
<li><a href="../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
<li><a href="../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
<li><a href="../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
<li><a href="../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
<li><a href="../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
<li><a href="../configuration/ui_testing.html">UI Testing</a></li>
<li><a href="../configuration/admin_mailhost_info.html">Mailhost Information</a></li>
<li><a href="../configuration/dev_notifications.html">Notifications</a></li>
<li><a href="../configuration/tfs_config.html">TFS Material configuration</a></li>
<li><a href="../configuration/configuration_reference.html">Reference</a></li>
<li><a href="../configuration/schema.html">Schema</a></li>
</ul></li>
<li><a href="../advanced_usage.html"><strong>Advanced Usage</strong></a>

<ul>
<li><a href="../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
<li><a href="../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
<li><a href="../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
<li><a href="../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
<li><a href="../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
<li><a href="../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
<li><a href="../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
<li><a href="../advanced_usage/fan_in.html">Fan In</a></li>
<li><a href="../advanced_usage/properties.html">Properties</a></li>
<li><a href="../advanced_usage/logging.html">Logging</a></li>
<li><a href="../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
<li><a href="../advanced_usage/stage_duration_chart.html">Graphs</a></li>
<li><a href="../advanced_usage/command_repository.html">Command Repository</a></li>
<li><a href="../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
<li><a href="../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
<li><a href="../advanced_usage/config_repo.html">Config Repository</a></li>
<li><a href="../advanced_usage/other_config_options.html">Other Config Options</a></li>
<li><a href="../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
<li><a href="../advanced_usage/maintenance_mode.html">Maintenance Mode</a><br /></li>
</ul></li>
<li><a href="../extension_points.html"><strong>Extension Points Of GoCD</strong></a>

<ul>
<li><a href="../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
<li><a href="../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
<li><a href="../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
<li><a href="../extension_points/scm_extension.html">SCM Extension</a></li>
<li><a href="../extension_points/task_extension.html">Task Extension</a></li>
<li><a href="../extension_points/notification_extension.html">Notification Extension</a></li>
<li><a href="../extension_points/configrepo_extension.html">Configuration repository Extension</a></li>
</ul></li>
<li><a href="../gocd_on_kubernetes.html"><strong>GoCD on Kubernetes</strong></a>

<ul>
<li><a href="../gocd_on_kubernetes/introduction.html">Introduction</a></li>
<li><a href="../gocd_on_kubernetes/gocd_helm_chart/setup_and_configuration.html">Setup and configuration</a>

<ul>
<li><a href="../gocd_on_kubernetes/gocd_helm_chart/setup.html">Setup</a></li>
<li><a href="../gocd_on_kubernetes/gocd_helm_chart/configure_cluster.html">Configure your Kubernetes Cluster</a></li>
<li><a href="../gocd_on_kubernetes/gocd_helm_chart/helm_install.html">Install the GoCD Helm chart</a></li>
</ul></li>
<li><a href="../gocd_on_kubernetes/designing_a_cd_pipeline.html">Designing a CD Pipeline</a>

<ul>
<li><a href="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_build_pipeline.html">Create a pipeline to build application</a></li>
<li><a href="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_test_pipeline.html">Create a pipeline to test the built application</a></li>
<li><a href="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_deploy_pipeline.html">Create a pipeline to deploy on Kubernetes</a></li>
<li><a href="../gocd_on_kubernetes/designing_a_cd_pipeline/docker_workflows.html">Docker workflows</a></li>
<li><a href="../gocd_on_kubernetes/gocd_helm_chart/configure_k8s_ea_plugin.html">Configure the Kubernetes Elastic Agent plugin</a></li>
</ul></li>
<li><a href="../gocd_on_kubernetes/gocd_helm_chart/troubleshooting.html">Troubleshooting</a></li>
</ul></li>
<li><a href="../faq.html"><strong>FAQ/Troubleshooting</strong></a>

<ul>
<li><a href="../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
<li><a href="../faq/stage_old_config.html">Historical Configuration</a></li>
<li><a href="../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
<li><a href="../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
<li><a href="../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
<li><a href="../faq/dev_save_properties.html">Save Properties for a Build</a></li>
<li><a href="../faq/environment_variables.html">Using Environment variables</a></li>
<li><a href="../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
<li><a href="../faq/tester_what_has_changed.html">See changes in new binary</a></li>
<li><a href="../faq/dependency_management.html">Run Tests against new Builds</a></li>
<li><a href="../faq/rm_what_is_deployed.html">Check What&rsquo;s Deployed</a></li>
<li><a href="../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
<li><a href="../faq/agent_guid_issue.html">Clone/Copy an Existing Agents</a></li>
<li><a href="../faq/job_rerun.html">How do I re-run jobs?</a></li>
<li><a href="../faq/material_update_hung.html">Go unable to poll for changes</a></li>
<li><a href="../faq/artifact_integrity.html">Artifact integrity verification</a></li>
<li><a href="../faq/notifications_page.html">Email Notifications</a></li>
<li><a href="../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
<li><a href="../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
</ul></li>
<li><a href="../beta.html"><strong>Beta features</strong></a>

<ul>
<li><a href="../beta/comment_on_pipeline_run.html">Comment on a pipeline run</a><br /></li>
</ul></li>
<li><a href="../release_history.html"><strong>Release History</strong></a>

<ul>
<li><a href="../release_history/whats_new_in_go.html">What&rsquo;s New in Go</a><br /></li>
</ul></li>
</ul>




</nav>
    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../svg/menu.svg" />
  </label>
  <strong>Customize a Pipeline label</strong>
</header>

      
<article class="markdown">

<h1 id="use-a-custom-pipeline-label">Use a custom pipeline label</h1>

<p>When using GoCD to build your application, it is often useful to be able to include extra information in the label GoCD uses. For example, you might want to have your label contain a static major.minor version number in addition to the unique count of the pipeline.</p>

<ul>
<li>Click on the <a href="../navigation/administration_page.html">Administration</a> tab
<img src="../images/topnav_admin.png" alt="" /></li>
<li>Edit the pipeline
<img src="../images/2_edit_pipeline.png" alt="" /></li>
<li>Add the label template
<img src="../images/3_add_label_ui.png" alt="" /></li>
<li>Click save</li>
</ul>

<h2 id="using-material-revisions">Using material revisions</h2>

<p>You might also want to include material revision into the pipeline label so that it&rsquo;s easier to find a GoCD pipeline by material revision and vice versa. For example, you might have a pipeline with a svn material. The following example shows how to include svn material revision into pipeline label:</p>

<pre><code class="language-xml">&lt;pipeline name=&quot;main&quot; labeltemplate=&quot;1.3.${COUNT}-${svn}&quot;&gt;
  &lt;materials&gt;
      &lt;svn url=&quot;http://server/path&quot; materialName=&quot;svn&quot; /&gt;
  &lt;materials&gt;
  ...
&lt;/pipeline&gt;

</code></pre>

<h4 id="using-truncated-material-revisions">Using truncated material revisions</h4>

<p>You can optionally truncate a material revision.
This can be useful when using Git materials as they have long revision numbers.
By adding a &ldquo;[:7]&rdquo; you can have a short, truncated version of the Git revision hash that has exactly 7 characters.
(Please note a subtle difference between this truncated Git revision and the &ldquo;official Git short revision&rdquo;.
The later one might be 4-7 characters long as Git tries to find a unique hash that&rsquo;s as short as possible. See the
<a href="https://www.kernel.org/pub/software/scm/git/docs/git-rev-parse.html">documentation of git-rev-parse</a>
under &ldquo;&ndash;short&rdquo; for further details.)</p>

<pre><code class="language-xml">&lt;pipeline name=&quot;main&quot; labeltemplate=&quot;15.1.${COUNT}-${git[:7]}&quot;&gt;
    &lt;materials&gt;
        &lt;git url=&quot;git://github.com/foo.git&quot;  materialName=&quot;git&quot; /&gt;
    &lt;materials&gt;
  ...
&lt;/pipeline&gt;

</code></pre>

<h2 id="using-upstream-pipeline-labels">Using upstream pipeline labels</h2>

<p>You can also include the revision of an upstream pipeline into the pipeline label to, for example, share the same revision across different but related pipelines:</p>

<pre><code class="language-xml">&lt;pipeline name=&quot;upstream&quot; labeltemplate=&quot;1.3.${COUNT}-${svn}&quot;&gt;
    &lt;materials&gt;
        &lt;svn url=&quot;http://server/path&quot; materialName=&quot;svn&quot; /&gt;
    &lt;materials&gt;
  ...
&lt;/pipeline&gt;
&lt;pipeline name=&quot;downstream&quot; labeltemplate=&quot;${upstream}&quot;&gt;
    &lt;materials&gt;
        &lt;pipeline pipelineName=&quot;upstream&quot; stageName=&quot;dev&quot; materialName=&quot;upstream&quot; /&gt;
    &lt;materials&gt;
  ...
&lt;/pipeline&gt;

</code></pre>

<p>In this case, if the label of upstream pipeline is &ldquo;1.3.0-1234&rdquo;, then when downstream pipeline is triggered, the label of downstream pipeline is also &ldquo;1.3.0-1234&rdquo;.</p>

<h2 id="using-parameters">Using parameters</h2>

<p>You can also include parameters into the pipeline label:</p>

<pre><code class="language-xml">&lt;pipeline name=&quot;main&quot; labeltemplate=&quot;15.1.${COUNT}-#{param1}&quot;&gt;
    &lt;params&gt;
        &lt;param name=&quot;param1&quot;&gt;default&lt;/param&gt;
    &lt;/params&gt;
  ...
&lt;/pipeline&gt;

</code></pre>

<h2 id="using-pipeline-level-environment-variables">Using Pipeline Level Environment Variables</h2>

<p>From GoCD v18.10.0, you can also include pipeline level environment variables into the pipeline label:</p>

<pre><code class="language-xml">&lt;pipeline name=&quot;main&quot; labeltemplate=&quot;18.10.0.${COUNT}-${env:var}&quot;&gt;
    &lt;environmentvariables&gt;
        &lt;variable name=&quot;var&quot;&gt;
          &lt;value&gt;default&lt;/value&gt;
        &lt;/variable&gt;
    &lt;/environmentvariables&gt;
   ...
&lt;/pipeline&gt;
</code></pre>

<h4 id="also-see">Also see&hellip;</h4>

<ul>
<li><a href="admin_use_parameters_in_configuration.html">Use parameters in configuration</a></li>
</ul>
</article>

      

    </div>

    
  
  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#use-a-custom-pipeline-label">Use a custom pipeline label</a>
<ul>
<li><a href="#using-material-revisions">Using material revisions</a>
<ul>
<li>
<ul>
<li><a href="#using-truncated-material-revisions">Using truncated material revisions</a></li>
</ul></li>
</ul></li>
<li><a href="#using-upstream-pipeline-labels">Using upstream pipeline labels</a></li>
<li><a href="#using-parameters">Using parameters</a></li>
<li><a href="#using-pipeline-level-environment-variables">Using Pipeline Level Environment Variables</a>
<ul>
<li>
<ul>
<li><a href="#also-see">Also see&hellip;</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
  
</body>

</html>
